{% extends "layout.html" %}
{% block content %}

<h2>My Orders</h2>

{% if orders|length == 0 %}
    <div class="alert alert-secondary text-center mt-4">
        You have no orders yet.
    </div>
{% endif %}

<table class="table table-bordered mt-3">
    <tr>
        <th>Order ID</th>
        <th>Total (₦)</th>
        <th>Status</th>
        <th>Est. Delivery</th>
        <th>Date</th>
        <th>Track</th>
    </tr>

    {% for o in orders %}
    <tr>
        <!-- ORDER ID -->
        <td>{{ o[0] }}</td>

        <!-- TOTAL -->
        <td>₦{{ o[1] }}</td>

        <!-- STATUS BADGE -->
        <td>
            <span class="badge badge-{{ o[2] }}">
                {{ o[2] | capitalize }}
            </span>
        </td>

        <!-- ESTIMATED DELIVERY -->
        <td>
            {% if o[4] %}
                {{ o[4] }}
            {% else %}
                <span class="text-muted">—</span>
            {% endif %}
        </td>

        <!-- DATE -->
        <td>{{ o[3] }}</td>

        <!-- TRACK BUTTON -->
        <td>
            <a href="/buyer/order/{{ o[0] }}" class="btn btn-info btn-sm">Track</a>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
